{"version":3,"sources":["utils.js","Switch.jsx","App.js","reportWebVitals.js","index.js"],"names":["placeSymbol","board","index","symbol","getWinningIndexes","initBoard","isComputerFirst","Array","fill","makeRandomMove","length","tempBoard","availableMoves","map","value","filter","getAvailableMoves","Math","floor","random","minimax","minimising","Switch","state","handleChange","onClick","option1","option2","title","className","App","useState","setIsComputerFirst","setBoard","winningIndexes","setWinningIndexes","isMinimaxMode","setIsMinimaxMode","resetGame","console","log","useEffect","includes","isValidMove","score","move","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b439c14.chunk.js","sourcesContent":["export const move = (board, index, isMinimaxMode) => {\n  const tempBoard = placeSymbol(board, index, \"X\")\n  if (isMinimaxMode) {\n    const score = minimax(tempBoard, false)\n    console.log(score)\n    return [...tempBoard];\n  }\n  return [...makeRandomMove(tempBoard, \"O\")];\n};\n\nexport const placeSymbol = (board, index, symbol) => {\n  board[index] = symbol;\n  return [...board]\n}\n\nexport const isValidMove = (board, index) => {\n  return board[index] === \"\";\n};\n\nexport const getWinningIndexes = (board) => {\n  // check horizontals\n  if (\n    board[0] === board[1] &&\n    board[1] === board[2] &&\n    (board[0] === \"X\" || board[0] === \"O\")\n  ) {\n    return [0, 1, 2];\n  } else if (\n    board[3] === board[4] &&\n    board[4] === board[5] &&\n    (board[3] === \"X\" || board[3] === \"O\")\n  ) {\n    return [3, 4, 5];\n  } else if (\n    board[6] === board[7] &&\n    board[7] === board[8] &&\n    (board[6] === \"X\" || board[6] === \"O\")\n  ) {\n    return [6, 7, 8];\n  }\n  // check verticals\n  if (\n    board[0] === board[3] &&\n    board[3] === board[6] &&\n    (board[0] === \"X\" || board[0] === \"O\")\n  ) {\n    return [0, 3, 6];\n  } else if (\n    board[1] === board[4] &&\n    board[4] === board[7] &&\n    (board[1] === \"X\" || board[1] === \"O\")\n  ) {\n    return [1, 4, 7];\n  } else if (\n    board[2] === board[5] &&\n    board[5] === board[8] &&\n    (board[2] === \"X\" || board[2] === \"O\")\n  ) {\n    return [2, 5, 8];\n  }\n\n  // check diagonals\n  if (\n    board[0] === board[4] &&\n    board[4] === board[8] &&\n    (board[0] === \"X\" || board[0] === \"O\")\n  ) {\n    return [0, 4, 8];\n  } else if (\n    board[2] === board[4] &&\n    board[4] === board[6] &&\n    (board[2] === \"X\" || board[2] === \"O\")\n  ) {\n    return [2, 4, 6];\n  }\n\n  return [];\n};\n\nexport const getAvailableMoves = (board) => {\n  return board\n    .map((value, index) => (value !== \"X\" && value !== \"O\" ? index : null))\n    .filter((value) => value !== null);\n};\n\nexport const initBoard = (isComputerFirst) => {\n  const board = Array(9).fill(\"\");\n  if (isComputerFirst) {\n    return [...makeRandomMove(board, \"O\")];\n  }\n\n  return [...board];\n};\n\nexport const makeRandomMove = (board, symbol) => {\n  if(getWinningIndexes(board).length > 0){\n    return [...board];\n  }\n  const tempBoard = [...board];\n  const availableMoves = getAvailableMoves(tempBoard);\n  const randomIndex = Math.floor(Math.random() * availableMoves.length);\n  tempBoard[availableMoves[randomIndex]] = symbol;\n  return [...tempBoard];\n};\n\nexport const minimax = (board, minimising) => {\n  // let score = 0;\n  // if(getWinningIndexes(board).length > 0){\n  //   if(minimising){\n  //     return -1;\n  //   }else{\n  //     return +1;\n  //   }\n  // }\n  \n  // const availableMoves = getAvailableMoves(board);\n\n  // if(availableMoves.length > 0){\n  //   availableMoves.forEach((_v, index) => {\n  //     score += minimax(placeSymbol(board,index,\"O\"), !minimising)\n  //     // minimax(board )\n  //   });\n  // }\n  // return score;\n};\n","import React from \"react\";\nimport \"./switch.css\";\n\nexport const Switch = ({ state, onClick: handleChange, option1, option2, title }) => (\n  <div className=\"root\">\n    <p>{option1}</p>\n    <div className=\"switchContainer\">\n      <p>{title}</p>\n      <div\n        className={`pill ${state ? \"active\" : \"\"}`}\n        onClick={() => handleChange()}\n      >\n        <div className=\"slider\" />\n      </div>\n    </div>\n    <p>{option2}</p>\n  </div>\n);\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { move, initBoard, getWinningIndexes, isValidMove } from \"./utils\";\nimport { Switch } from \"./Switch\";\n\n//todo\n// minimax\n\nconst App = () => {\n  const [isComputerFirst, setIsComputerFirst] = useState(true);\n  const [board, setBoard] = useState(initBoard(isComputerFirst));\n  const [winningIndexes, setWinningIndexes] = useState([]);\n  const [isMinimaxMode, setIsMinimaxMode] = useState(false);\n\n  const resetGame = () => {\n    setBoard([...initBoard(isComputerFirst)]);\n    setWinningIndexes([]);\n    console.log('reseting')\n  };\n\n  useEffect(() => {\n    setWinningIndexes(getWinningIndexes(board));\n  }, [board]);\n\n  useEffect(() => {\n    resetGame();\n    //eslint-disable-next-line\n  }, [isComputerFirst, isMinimaxMode]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"grid\">\n        {board.map((value, index) => (\n          <div\n            key={index}\n            className={`box ${\n              winningIndexes && winningIndexes.includes(index) ? \"green\" : \"\"\n            }`}\n            onClick={() => {\n              if (winningIndexes !== [] && isValidMove(board, index)) {\n                setBoard(move(board, index, isMinimaxMode));\n              }\n            }}\n          >\n            <p className={`${value === \"X\" ? \"greenText\" : \"redText\"}`}>\n              {value}\n            </p>\n          </div>\n        ))}\n      </div>\n      <div className=\"controls\">\n        <Switch\n          state={isMinimaxMode}\n          onClick={() => {\n            setIsMinimaxMode(!isMinimaxMode);\n          }}\n          title=\"Algorithm\"\n          option1=\"Random\"\n          option2=\"Minimax\"\n        />\n        <Switch\n          state={isComputerFirst}\n          onClick={() => {\n            setIsComputerFirst(!isComputerFirst);\n          }}\n          title=\"First move\"\n          option1=\"Player\"\n          option2=\"Computer\"\n        />\n      </div>\n      <button onClick={resetGame}>Reset</button>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}